# 编译的四大过程 #编译

## 预编译文件
通过/P的指令可以去处理生成预编译,从而了解编译器对预定义指令的处理,可以辅助去处理复杂的预处理指令导致的程序错误

| 命令名 | 参数  | 文件后缀 | 输出文件 |
| --- | --- | ---- | ---- |
| cl  | /P  | *.c  | *.i  |

## 编译

在生成.obj标准中间文件时是参考是一个标准格式(coff),.obj文件中包含代码的二进制和必要的程序数据通过对标准.obj的读取可以跨语言编译,但不可以跨平台因为其他平台有自己的标准中间文件如liunx的.o文件

| 命令名 | 参数  | 目标文件 | 输出文件  |
| --- | --- | ---- | ----- |
| cl  | /c  | *.c  | *.obj |

## 链接

通过链接.obj文件可以完成与系统的调用约定从而可以使代码在目标系统中运行,调用约定包含内存的大小,数据存放位置,代码与代码的开始位置等等

| 命令名  | 文件后缀  | 输出文件  |
| ---- | ----- | ----- |
| link | *.obj | *.exe |

## 常见编译参数
| 命令名  | 参数      | 目标文件  | 输出文件         | 命令解释                |
| ---- | ------- | ----- | ------------ | ------------------- |
| cl   | /w[1-4] | *.c   | *.exe &&.obj | 编译C文件时的编译检查警告级别为一到四 |
| cl   | /c      | *.c   | *.obj        | 编译C文件到Obj文件         |
| cl   | /P      | *.c   | *.i          | 编译C文件到i文件           |
| link | NUll    | *.obj | *.exe        | 编译Obj文件到exe文件       |
``` Bash title:常见编译参数解释
# 编译生成.obj
cl [/c] [/w4] <*.c> #编译C文件生成obj文件编译检查警告级别为四

/c 生成obj文件
/w[1-4] 编译检查警告级别

link <*.obj> #链接文件
```

# include初探 #include
## 引入""与<>的区别
#`include` <stdio.h>
作用查找系统环境变量的头文件
#`include` "stdio.h"
作用查找当前目录如果找不到就查找系统环境变量的头文件
```c title:引入代码的演示
#include <stdio.h>
//作用查找系统环境变量的头文件
#include "stdio.h"
//作用查找当前目录如果找不到就查找系统环境变量的头文件
```

## include的作用

^b13df6

^ce9823
include会包含文件 **,他不检查后缀名和内容**,只会按照[[#引入""与<>的区别]]去找到并把内容读取进来

## include后缀的内容规定
我们通常把功能代码,也就是需要编译器参与的代码部分放在.C后缀里,而不需要编译器参与的代码即定义代码放在.h后缀里面
``` c title:.c文件举例
int c; //定义变量
int Hello(){ 定义函数内容
	//something 
} 
```
``` c title:.h文件举例
extern int c; //定义变量
int Hello();//定义函数
```
# 初探main函数的运行 #main函数
``` c title:初探main函数的程序示例
#include <stdio.h> 
int main(void) {
	int num = 999;
	printf("Hello World %d", num);
	getchar();
	return 0; 
}
```
1. [[#^b13df6| includ的作用参考链接]]
2. main函数严格上说并不是c程序的开始,在执行main函数的前后c程序进行一系列的初始化,拥有两个默认参数,这里不使用填写void
3. 告诉编译器需要分配四字节的内存幷初始化为补码方式的999,方便编译器写与读取,数据的存储方式参考[[#小尾端与大尾端]]
4. printf的作用是格式化输出标准设备,返回值返回成功输出的字符个数
5. getchar获取键盘的Ascll码
6. return 0返回的值是main函数的进程退出码

# 小尾端与大尾端 #小尾端 #大尾端 #数据存储
小尾端把数据低位放高位,大尾端把高位放低位,在小型机和微型机中数据的存储方式普遍为小尾端
``` Bash title:小尾端存储方式
#原始数据
12 34 56 78
#内存数据
78 56 34 12
```
``` Bash title:大尾端存储方式
#原始数据
12 34 56 78
#内存数据
12 34 56 78
```
